<html><title>man/users.3</title><body style="font-family:Courier;background-color:#000;color:#FFF;"><span style="color:FFFFFF;font-weight:bold;">NAME<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users - user-level user management API<br><br><span style="color:FFFFFF;font-weight:bold;">DESCRIPTION<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users<span style="color:FFFFFF;font-weight:normal;"> is Monolith's userspace user management API.&nbsp;&nbsp;It controls mapping of usernames to UIDs, the used cryptographic library, and access to <span style="color:DDDD00;font-weight:bold;">/etc/passwd<span style="color:FFFFFF;font-weight:normal;">.<br><br><span style="color:FFFFFF;font-weight:bold;">METHODS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getname<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">uid<span style="color:FFFFFF;font-weight:normal;">:<span style="color:DDDD00;font-weight:bold;">number<span style="color:FFFFFF;font-weight:normal;">): <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resolves the provided <span style="color:DDDD00;font-weight:bold;">uid<span style="color:FFFFFF;font-weight:normal;"> to a username.&nbsp;&nbsp;If no corresponding username is found, returns a string in the form <span style="color:FF0000;font-weight:bold;">UID: <span style="color:FFFFFF;font-weight:bold;"><uid><span style="color:FF0000;font-weight:bold;"><span style="color:FFFFFF;font-weight:normal;">.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">login<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">user<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"> or <span style="color:DDDD00;font-weight:bold;">number<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FFFFFF;font-weight:bold;">password<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">): <span style="color:FF00FF;font-weight:bold;">boolean<span style="color:FFFFFF;font-weight:normal;">[, <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">]<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identical to <span style="color:FFFFFF;font-weight:bold;">users<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">2<span style="color:FFFFFF;font-weight:normal;">).<span style="color:FFFFFF;font-weight:bold;">login<span style="color:FFFFFF;font-weight:normal;">, except that this function sets environment variables appropriately and accepts a username or UID as its first argument.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">logout<span style="color:FFFFFF;font-weight:normal;">(): <span style="color:FF00FF;font-weight:bold;">boolean<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Logs out the current user.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">uid<span style="color:FFFFFF;font-weight:normal;">(): <span style="color:DDDD00;font-weight:bold;">number<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current thread's login UID.&nbsp;&nbsp;A UID of <span style="color:DDDD00;font-weight:bold;">-1<span style="color:FFFFFF;font-weight:normal;"> means the current thread is not logged in as a user and has no privileges.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">add<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FFFFFF;font-weight:bold;">password<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FFFFFF;font-weight:bold;">cansudo<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF00FF;font-weight:bold;">boolean<span style="color:FFFFFF;font-weight:normal;">): <span style="color:DDDD00;font-weight:bold;">number<span style="color:FFFFFF;font-weight:normal;"> or <span style="color:FFFFFF;font-weight:bold;">nil<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identical to its <span style="color:FFFFFF;font-weight:bold;">users<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">2<span style="color:FFFFFF;font-weight:normal;">) counterpart, but takes a name rather than a UID.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">del<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"> or <span style="color:DDDD00;font-weight:bold;">number<span style="color:FFFFFF;font-weight:normal;">): ...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identical to <span style="color:FFFFFF;font-weight:bold;">users<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">2<span style="color:FFFFFF;font-weight:normal;">).<span style="color:FFFFFF;font-weight:bold;">del<span style="color:FFFFFF;font-weight:normal;">, but can take a string as its <span style="color:FF0000;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;"> argument.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">setShell<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the current user's login shell to <span style="color:FF0000;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;">.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">home<span style="color:FFFFFF;font-weight:normal;">(): <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current user's home directory.&nbsp;&nbsp;Alias for <span style="color:00AAFF;font-weight:bold;">os.getenv<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FF0000;font-weight:bold;">"HOME"<span style="color:FFFFFF;font-weight:normal;">).<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">shell<span style="color:FFFFFF;font-weight:normal;">(): <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the current user's login shell.&nbsp;&nbsp;Alias for <span style="color:00AAFF;font-weight:bold;">os.getenv<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FF0000;font-weight:bold;">"SHELL"<span style="color:FFFFFF;font-weight:normal;">).<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">sudo<span style="color:FFFFFF;font-weight:normal;">(...): ...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Identical to <span style="color:FFFFFF;font-weight:bold;">users<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">2<span style="color:FFFFFF;font-weight:bold;">).<span style="color:FFFFFF;font-weight:bold;">sudo<span style="color:FFFFFF;font-weight:normal;">.<br><br><span style="color:FFFFFF;font-weight:bold;">COPYRIGHT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monolith System Interfaces<span style="color:FFFFFF;font-weight:normal;"> (c) 2020 Ocawesome101 under the GNU GPLv3.<br><br><span style="color:FFFFFF;font-weight:bold;">SEE ALSO<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;users<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">2<span style="color:FFFFFF;font-weight:normal;">), <span style="color:FFFFFF;font-weight:bold;">usermgr<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">1<span style="color:FFFFFF;font-weight:normal;">)<br>
</body></html>