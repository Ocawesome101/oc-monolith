<html><title>man/package.3</title><body style="font-family:Courier;background-color:#000;color:#FFF;"><span style="color:FFFFFF;font-weight:bold;">NAME<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package - reimplementation of the Lua standard package library<br><br><span style="color:FFFFFF;font-weight:bold;">DESCRIPTION<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;package<span style="color:FFFFFF;font-weight:normal;"> is a partial re-implementation of the Lua-standard <span style="color:FFFFFF;font-weight:bold;">package<span style="color:FFFFFF;font-weight:normal;"> library.<br><br><span style="color:FFFFFF;font-weight:bold;">METHODS<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;searchpath<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FFFFFF;font-weight:bold;">path<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">[, <span style="color:FFFFFF;font-weight:bold;">sep<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">[, <span style="color:FFFFFF;font-weight:bold;">rep<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">]]): <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"> or nil, <span style="color:00FF00;font-weight:bold;">table<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Used internally by <span style="color:00AAFF;font-weight:bold;">require<span style="color:FFFFFF;font-weight:normal;">.&nbsp;&nbsp;Searches the provided <span style="color:FF0000;font-weight:bold;">path<span style="color:FFFFFF;font-weight:normal;"> for <span style="color:FF0000;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">.&nbsp;&nbsp;Replaces all instances of <span style="color:FF0000;font-weight:bold;">?<span style="color:FFFFFF;font-weight:normal;"> in the path with <span style="color:FF0000;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FF0000;font-weight:bold;">path<span style="color:FFFFFF;font-weight:normal;"> is expected to be formatted as a series of entries separated by the <span style="color:FF0000;font-weight:bold;">;<span style="color:FFFFFF;font-weight:normal;"> character.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">protect<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">tbl<span style="color:FFFFFF;font-weight:normal;">:<span style="color:00FF00;font-weight:bold;">table<span style="color:FFFFFF;font-weight:normal;">[, <span style="color:FFFFFF;font-weight:bold;">name<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">]): <span style="color:00FF00;font-weight:bold;">table<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a protected (i.e. read-only) version of the provided table.&nbsp;&nbsp;Note that <span style="color:00AAFF;font-weight:bold;">rawset<span style="color:FFFFFF;font-weight:normal;"> is wrapped specifically to allow this function to work.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FFFFFF;font-weight:bold;">delay<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">lib<span style="color:FFFFFF;font-weight:normal;">:<span style="color:00FF00;font-weight:bold;">table<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FFFFFF;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the metatable of library <span style="color:00FF00;font-weight:bold;">lib<span style="color:FFFFFF;font-weight:normal;"> such that, when an attempt is made to index a nonexistent field, the provided <span style="color:FF0000;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;"> will be loaded.&nbsp;&nbsp;If the field is found, the metatable returns it.<br><br><span style="color:FFFFFF;font-weight:bold;">GLOBALS<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <span style="color:FFFFFF;font-weight:bold;">package<span style="color:FFFFFF;font-weight:normal;"> library defines the following globals.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:00FF00;font-weight:bold;">package.loaded<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A cache of all loaded libraries.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:FF0000;font-weight:bold;">package.path<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The path to search for libraries.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:00AAFF;font-weight:bold;">dofile<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">): ... or <span style="color:FFFFFF;font-weight:bold;">nil<span style="color:FFFFFF;font-weight:normal;">, <span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;"><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempt to execute file <span style="color:FF0000;font-weight:bold;">file<span style="color:FFFFFF;font-weight:normal;">.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:00AAFF;font-weight:bold;">require<span style="color:FFFFFF;font-weight:normal;">(<span style="color:FFFFFF;font-weight:bold;">lib<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF0000;font-weight:bold;">string<span style="color:FFFFFF;font-weight:normal;">[, <span style="color:FFFFFF;font-weight:bold;">reload<span style="color:FFFFFF;font-weight:normal;">:<span style="color:FF00FF;font-weight:bold;">boolean<span style="color:FFFFFF;font-weight:normal;">]): ...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempt to load library <span style="color:FF0000;font-weight:bold;">lib<span style="color:FFFFFF;font-weight:normal;"> from the package path.&nbsp;&nbsp;If the library is already loaded <span style="color:FFFFFF;font-weight:bold;">and<span style="color:FFFFFF;font-weight:normal;"> <span style="color:FF00FF;font-weight:bold;">reload<span style="color:FFFFFF;font-weight:normal;"> is false or not specified, returns the cached library.&nbsp;&nbsp;Othwewise, reloads the library from disk.<br><br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;On failure, <span style="color:00AAFF;font-weight:bold;">require<span style="color:FFFFFF;font-weight:normal;"> raises the error rather than returning it.<br><br><span style="color:FFFFFF;font-weight:bold;">COPYRIGHT<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monolith System Interfaces<span style="color:FFFFFF;font-weight:normal;"> (c) 2020 Ocawesome101 under the GNU GPLv3.<br>
</body></html>